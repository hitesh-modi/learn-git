<!DOCTYPE html>
<html lang="en">
<head>
<title>Bootstrap Example</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></link>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" />
	
<style type="text/css">
	html *
{
   font-family: 'Montserrat', sans-serif;
}
</style>
	
<!-- <link href="style-main.css" rel="stylesheet" /> -->
</head>
<body ng-app="loginApp">

	<div ng-controller="UserController as ctrl">

		<div class="jumbotron text-center">
			<h1>My First Bootstrap Page</h1>
			<p>Resize this responsive page to see the effect!</p>
		</div>

		<div class="container">

			<div class="row">
				<div class="col-sm-3">
					<button class="btn btn-primary" data-toggle="modal" data-target="#registrationModal" data-ng-click="getStates()">Register</button>
					<button class="btn btn-primary" data-toggle="modal" data-target="#loginModal">Login</button>
				</div>
				<div class="col-sm-3"></div>
				<div class="col-sm-3"></div>
				<div class="col-sm-3"></div>
			</div>

			<div class="row">
				<div class="col-sm-4">
					<h3>Column 1</h3>
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
					<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco
						laboris...</p>
				</div>
				<div class="col-sm-4">
					<h3>Column 2</h3>
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
					<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco
						laboris...</p>
				</div>
				<div class="col-sm-4">
					<h3>Column 3</h3>
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
					<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco
						laboris...</p>
				</div>
			</div>
		</div>

		<!-- Login Modal -->
		<div id="loginModal" class="modal fade" role="dialog">
			<div class="modal-dialog">

				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Login</h4>
					</div>
					<div class="modal-body">
					
						<form name="loginForm" ng-submit="ctrl.login()">
							<div class="form-group">
								<label for="userName">User Name:</label> <input type="text"
									class="form-control" id="userName"
									ng-model="ctrl.credentials.username" />
							</div>
							<div class="form-group">
								<label for="pwd">Password:</label> <input type="password"
									class="form-control" id="pwd"
									ng-model="ctrl.credentials.password" />
							</div>
							<div class="checkbox">
								<label><input type="checkbox" />Remember me</label>
							</div>
							<button type="submit" class="btn btn-default">Login</button>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>


		<!-- Registration Modal -->
		<div id="registrationModal" class="modal fade" role="dialog">
			<div class="modal-dialog">

				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Register</h4>
					</div>
					<div class="modal-body">
					
						<form name="registrationForm" role="form" class="form-horizontal" ng-submit="ctrl.register()">
							<div class="form-group">
								<div class="col-sm-3" ng-class="{'has-error': registrationForm.fname.$error.required, 'has-success': registrationForm.fname.$valid }">
									<label for="FirstName" class="col-sm-6">First Name:</label> 
									<input type="text" name="fname" id="fname" ng-model="ctrl.user.fname" class="form-control" ng-required="true" ng-maxlength="50" ng-model-options="{ updateOn: 'blur' }"/>
									<span class="help-block" ng-show="registrationForm.fname.$error.required">Required!!</span>
									<span class="help-block" ng-show="registrationForm.fname.$error.maxlength">Maximum 50 characters allowed.</span>
								</div>
								<div class="col-sm-3" ng-class="{'has-error': registrationForm.mname.$error.maxlength, 'has-success': registrationForm.mname.$valid }">
									<label for="MiddleName" class="col-sm-6">Middle Name:</label> 
									<input type="text" name="mname" id="mname" ng-model="ctrl.user.mname" class="form-control" ng-maxlength="50" ng-model-options="{ updateOn: 'blur' }"/>
									<span class="help-block" ng-show="registrationForm.mname.$error.maxlength">Maximum 50 characters allowed.</span>
								</div>
								<div class="col-sm-3" ng-class="{'has-error': registrationForm.lname.$error.required, 'has-success': registrationForm.lname.$valid }">
									<label for="LastName" class="col-sm-6">Last Name:</label> 
									<input type="text" name="lname" id="lname" ng-model="ctrl.user.lname" class="form-control" ng-maxlength="50" ng-required="true" ng-model-options="{ updateOn: 'blur' }"/>
									<span class="help-block" ng-show="registrationForm.lname.$error.required">Required!!</span>
									<span class="help-block" ng-show="registrationForm.lname.$error.maxlength">Maximum 50 characters allowed.</span>
								</div>
							</div>
							<div class="form-group" ng-class="{'has-error': registrationForm.emailid.$error.required || registrationForm.emailid.$error.email , 'has-success': registrationForm.emailid.$valid }">
								<label for="Email" class="col-sm-12">Email Id:</label> 
								<div class="col-sm-6">
									<input type="email" class="form-control" name="emailid" 
										  	id="email" 
										  	ng-maxlength="50" 
										  	ng-model="ctrl.user.email" 
										  	ng-required="true" 
										  	ng-model-options="{ updateOn: 'blur' }"
										  	/>
									<span class="help-block" ng-show="registrationForm.emailid.$error.required">Required!!</span>
									<span class="help-block" ng-show="registrationForm.emailid.$error.email">Not valid email!</span>
									<span class="help-block" ng-show="registrationForm.emailid.$error.maxlength">Maximum 50 characters allowed.</span>
								</div>
								<div class="col-sm-6"><small>Eg. example@gmail.com, example@hotmail.com</small></div>
								
							</div>
							<div class="form-group" ng-class="{'has-error': registrationForm.contact.$error.required || registrationForm.contact.$error.pattern  , 'has-success': registrationForm.contact.$valid }">
								<label for="contact" class="col-sm-12">Contact Number:</label> 
								<div class="col-sm-5">
									<input type="text" name="contact" id="contactNumber" ng-model="ctrl.user.contactNumber" class="form-control" ng-pattern="/^\+[0-9]{12,12}$/" ng-required="true" ng-model-options="{ updateOn: 'blur' }"/>
									<span class="help-block" ng-show="registrationForm.contact.$error.required">Required!!</span>
									<span class="help-block" ng-show="registrationForm.contact.$error.pattern">Contact Number Format : +919876543210</span>
								</div>
								<div class="col-sm-6"><small>Eg. +919876543210</small></div>
							</div>
							<div class="form-group" 
									ng-class="{'has-error': registrationForm.gstin.$error.required || registrationForm.gstin.$error.pattern  , 'has-success': registrationForm.gstin.$valid }">
								<label for="gstin" class="col-sm-12" >GSTIN:</label> 
								<div class="col-sm-5">
									<input type="text" name="gstin" id="gstin" ng-model="ctrl.user.gstin" class="form-control" 
									 ng-pattern="/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[0-9]{1}[A-Za-z]{1}[0-9]{1}$/" ng-required="true" ng-model-options="{ updateOn: 'blur' }"/>
									 <span class="help-block" ng-show="registrationForm.gstin.$error.required">Required!!</span>
									 <span class="help-block" ng-show="registrationForm.gstin.$error.pattern">GSTIN Format (Sample) : 22ABCDE1234F1Z8</span>
								</div>
								<div class="col-sm-6"><small>Eg. 22ABCDE1234F1Z8</small></div>
							</div>
							<div class="form-group" ng-class="{'has-error': registrationForm.firmName.$error.required || registrationForm.firmName.$error.maxlength , 'has-success': registrationForm.firmName.$valid }">
								<label for="firmName" class="col-sm-12">Name of the Firm:</label> 
								<div class="col-sm-5">
									<input type="text" name="firmName" id="firmName" ng-model="ctrl.user.firmName" class="form-control" ng-required="true" ng-maxlength="100" ng-model-options="{ updateOn: 'blur' }"/>
									<span class="help-block" ng-show="registrationForm.firmName.$error.required">Required!!</span>
									<span class="help-block" ng-show="registrationForm.firmName.$error.maxlength">Value too long. Maximum 100 characters allowed.</span>
								</div>
								<div class="col-sm-6"><small>Eg. ABC Corporation, XYZ Pvt Ltd.</small></div>
							</div>
							<div class="form-group" ng-class="{'has-error': registrationForm.address.$error.required || registrationForm.address.$error.maxlength , 'has-success': registrationForm.address.$valid }">
								<label for="Address" class="col-sm-12">Address:</label> 
								<div class="col-sm-12">
									<textarea name="address" id="address" ng-model="ctrl.user.address" class="form-control" ng-required="true" ng-maxlength="100" ng-model-options="{ updateOn: 'blur' }">Enter address</textarea>
									<span class="help-block" ng-show="registrationForm.address.$error.required">Required!!</span>
									<span class="help-block" ng-show="registrationForm.address.$error.maxlength">Value too long. Maximum 100 characters allowed.</span>
								</div>
							</div>
							<div class="form-group" ng-class="{'has-error': registrationForm.state.$error.required, 'has-success': registrationForm.state.$valid }">
								<label for="state" class="col-sm-12">State:</label> 
								<div class="col-sm-5">
									<select ng-model="ctrl.user.state" name="state" 
									ng-options="(state.statename+' ('+state.statecode+')') for state in ctrl.stateList" class="form-control"
									ng-required="true">
								</select>
								<span class="help-block" ng-show="registrationForm.state.$error.required">Required!!</span>
								</div>
							</div>
							<div class="form-group" ng-class="{'has-error': registrationForm.password.$error.pattern || registrationForm.password.$error.required, 'has-success': registrationForm.password.$valid }">
								<label for="pwd" class="col-sm-12">Password:</label> 
								<div class="col-sm-12">
									<input type="password"
									 	id="pwd"
									 	name="password"
										ng-model="ctrl.user.password" class="form-control" 
										ng-pattern="/^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[$@£!%*#?])[A-Za-z0-9$@£!%*#?]{8,16}$/"
										ng-required="true"
										ng-model-options="{ updateOn: 'blur' }"
										/>
										<span class="help-block" ng-show="registrationForm.password.$error.required">Required!!</span>
										<span class="help-block" ng-show="registrationForm.password.$error.pattern">Password must contain one special character from $@£!%*#? <br/>Must contain one digit<br/>Must be 8-16 characters long</span>
								</div>
							</div>
							<div class="form-group" ng-class="{'has-error': !arePasswordsSame, 'has-success': registrationForm.confirmPassword.$valid }">
								<label for="pwd" class="col-sm-12">Confirm Password:</label> 
								<div class="col-sm-12"><input type="password"
								    id="pwd"
								    name="confirmPassword"
								    ng-blur="checkPasswords(ctrl.user.confirmPassword, ctrl.user.password)"
									ng-model="ctrl.user.confirmPassword" class="form-control" />
									<span class="help-block" ng-hide="arePasswordsSame">Passwords do not match.</span>
									</div>
							</div>
							
							<button type="submit" class="btn btn-primary" ng-disabled="registrationForm.$invalid">Register</button>
						</form>
						
						<span ng-show="ctrl.showRegistrationResponse" ng-class="{'has-error': !registrationSuccess, 'has-success': registrationSuccess }">{{ctrl.registrationResponse}}</span>
						
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>

	</div>
	<script
		src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.js"></script>
	<script
		src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular-route.js"></script>
	<script src="loginApp.js"></script>
</body>
</html>
